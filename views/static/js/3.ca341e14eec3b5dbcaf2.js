webpackJsonp([3],{"2uFj":function(e,t,n){"use strict";t.a={development:{host:"http://localhost:8680/rainbowdb"},production:{host:"http://39.105.196.199:8680/rainbowdb"}}},"3cXf":function(e,t,n){e.exports={default:n("RJ+u"),__esModule:!0}},"M/BU":function(e,t,n){var a=n("mQ/d");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),n("FIqI")("28503eec",a,!0,{})},"Oo/i":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Sflj"),r=n("WHf5"),o=function(e){n("M/BU")},i=n("C7Lr")(a.a,r.a,!1,o,"data-v-0dd5fed8",null);t.default=i.exports},"RJ+u":function(e,t,n){var a=n("AKd3"),r=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},Sflj:function(e,t,n){"use strict";var a=n("a3Yh"),r=n.n(a),o=n("gyMJ"),i=n("6ROu");n.n(i),t.a={data:function(){return{resource:"",dialogVisible:!1,imgSrc:"",showFlag:!1,tableData:[],cur_page:1,multipleSelection:[],select_cate:"",select_word:"",del_list:[],is_search:!1,editVisible:!1,delVisible:!1,user_list:[],form:{_id:"",friends_name:"",friends_phone:"",friends_address:"",appointment_date:"",appointment_specific_time:"",user_name:"",user_phone:"",openid:"",uid:"",policyid:"",end_date:"",recommended_state:"",create_time:"",policy_type:"",orderId:"",end_time:""},total:10,currentPage:1,pageSize:10,idx:-1}},created:function(){this.getData()},methods:{handleCurrentChange:function(e){this.cur_page=e,this.getData()},getData:function(){var e=this;o.k(this.cur_page,this.pageSize,{}).then(function(t){e.tableData=t.data.data,e.total=t.data.total})},search:function(){var e=this;if(this.is_search=!0,""==this.select_cate)this.getData();else{var t=this.select_cate,n=this.select_word,a=r()({},t,n);o.k(this.cur_page,this.pageSize,a).then(function(t){e.tableData=t.data.data,e.total=t.data.total})}},closeDistribution:function(){this.getData(),this.editVisible=!1},saveEdit:function(){var e=this,t={orderId:this.form._id,recommended_state:this.form.recommended_state};o.s(t).then(function(t){t.data.success,t.data.success?(e.editVisible=!1,e.$message.success("修改成功")):e.$message.error("修改不成功")})},orderEdit:function(e,t,n){this.idx=e;var a=this.tableData[e];this.form={_id:a._id,friends_name:a.friends_name,friends_phone:a.friends_phone,friends_address:a.friends_address,appointment_date:a.appointment_date,appointment_specific_time:a.appointment_specific_time,user_name:a.user_name,user_phone:a.user_phone,openid:a.openid,uid:a.uid,policyid:a.policyid,end_date:a.end_date,recommended_state:a.recommended_state,create_time:a.create_time,policy_type:a.policy_type,orderId:a.orderId,end_time:a.end_time},this.editVisible=!0},handleSelectionChange:function(e){this.multipleSelection=e}}}},WHf5:function(e,t,n){"use strict";var a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table"},[n("div",{staticClass:"container"},[n("div",{staticClass:"handle-box"},[n("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"请选择"},model:{value:e.select_cate,callback:function(t){e.select_cate=t},expression:"select_cate"}},[n("el-option",{key:"1",attrs:{label:"请选择",value:""}}),e._v(" "),n("el-option",{key:"2",attrs:{label:"推荐人姓名",value:"user_name"}}),e._v(" "),n("el-option",{key:"3",attrs:{label:"推荐人电话",value:"user_phone"}})],1),e._v(" "),n("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}}),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),n("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","default-sort":{prop:"date",order:"descending"}},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"friends_name",label:"姓名"}}),e._v(" "),n("el-table-column",{attrs:{prop:"friends_phone",label:"联系电话"}}),e._v(" "),n("el-table-column",{attrs:{prop:"friends_address",label:"地址"}}),e._v(" "),n("el-table-column",{attrs:{prop:"appointment_date",label:"预约日期"}}),e._v(" "),n("el-table-column",{attrs:{prop:"appointment_specific_time",label:"预约时间"}}),e._v(" "),n("el-table-column",{attrs:{prop:"user_name",label:"推荐人姓名"}}),e._v(" "),n("el-table-column",{attrs:{prop:"user_phone",label:"推荐人电话"}}),e._v(" "),n("el-table-column",{attrs:{prop:"end_date",label:"参加活动结束日期"}}),e._v(" "),n("el-table-column",{attrs:{label:"服务跟踪状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.recommended_state?n("div",[e._v("\n                        未上门服务\n                    ")]):e._e(),e._v(" "),"2"==t.row.recommended_state?n("div",[e._v("\n                        已上门服务\n                    ")]):e._e(),e._v(" "),"3"==t.row.recommended_state?n("div",[e._v("\n                        已成交\n                    ")]):e._e(),e._v(" "),"4"==t.row.recommended_state?n("div",[e._v("\n                        失效\n                    ")]):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(n){e.orderEdit(t.$index,t.row,!1)}}},[e._v("\n                            编辑\n                        ")])]}}])})],1),e._v(" "),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"total,  prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"详情",visible:e.editVisible},on:{"update:visible":function(t){e.editVisible=t},close:e.closeDistribution}},[n("div",{staticStyle:{border:"1px solid #000"},attrs:{id:"printTest"}},[n("el-form",{ref:"ruleForm",attrs:{model:e.form,"label-width":"180px"}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticStyle:{"padding-top":"5px","text-align":"center"}},[e._v("推荐好友信息")])])],1),e._v(" "),n("hr"),e._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"姓名:",prop:"friends_name"}},[e._v("\n                                "+e._s(e.form.friends_name)+"\n                            ")])],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"联系方式:",prop:"friends_phone"}},[e._v("\n                                "+e._s(e.form.friends_phone)+"\n                            ")])],1)],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"地址:",prop:"friends_address"}},[e._v("\n                                "+e._s(e.form.friends_address)+"\n                            ")])],1)],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"预约日期:",prop:"appointment_date"}},[e._v("\n                                "+e._s(e.form.appointment_date)+"\n                            ")])],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"预约时间:",prop:"appointment_specific_time"}},[e._v("\n                                "+e._s(e.form.appointment_specific_time)+"\n                            ")])],1)],1),e._v(" "),n("hr"),e._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticStyle:{"text-align":"center"}},[e._v("推荐人信息")])])],1),e._v(" "),n("hr"),e._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"推荐人姓名:",prop:"user_name"}},[e._v("\n                                "+e._s(e.form.user_name)+"\n                            ")])],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"推荐人电话:",prop:"user_phone"}},[e._v("\n                                "+e._s(e.form.user_phone)+"\n                            ")])],1)],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"服务跟踪状态:",prop:"recommended_state"}},[[n("el-radio",{attrs:{label:"1"},model:{value:e.form.recommended_state,callback:function(t){e.$set(e.form,"recommended_state",t)},expression:"form.recommended_state"}},[e._v("未上门服务")]),e._v(" "),n("el-radio",{attrs:{label:"2"},model:{value:e.form.recommended_state,callback:function(t){e.$set(e.form,"recommended_state",t)},expression:"form.recommended_state"}},[e._v("已上门服务")]),e._v(" "),n("el-radio",{attrs:{label:"3"},model:{value:e.form.recommended_state,callback:function(t){e.$set(e.form,"recommended_state",t)},expression:"form.recommended_state"}},[e._v("已成交")]),e._v(" "),n("el-radio",{attrs:{label:"4"},model:{value:e.form.recommended_state,callback:function(t){e.$set(e.form,"recommended_state",t)},expression:"form.recommended_state"}},[e._v("失效")])]],2)],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};t.a=a},a3Yh:function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n("liLe"));t.default=function(e,t,n){return t in e?(0,a.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},gyMJ:function(e,t,n){"use strict";n.d(t,"q",function(){return l}),n.d(t,"x",function(){return c}),n.d(t,"k",function(){return u}),n.d(t,"s",function(){return p}),n.d(t,"n",function(){return f}),n.d(t,"v",function(){return m}),n.d(t,"d",function(){return _}),n.d(t,"h",function(){return v}),n.d(t,"l",function(){return h}),n.d(t,"t",function(){return b}),n.d(t,"b",function(){return g}),n.d(t,"p",function(){return A}),n.d(t,"j",function(){return C}),n.d(t,"a",function(){return y}),n.d(t,"r",function(){return w}),n.d(t,"f",function(){return x}),n.d(t,"o",function(){return k}),n.d(t,"w",function(){return S}),n.d(t,"e",function(){return B}),n.d(t,"i",function(){return D}),n.d(t,"m",function(){return z}),n.d(t,"u",function(){return I}),n.d(t,"c",function(){return R}),n.d(t,"g",function(){return N});var a=n("3cXf"),r=n.n(a),o=n("2uFj"),i=n("6sKG"),s=n.n(i),d=o.a.production.host,l=function(e){return s.a.post(d+"/admin/login/",e).then(function(e){return e.data})},c=function(e){return s.a.post(d+"/user/updateUser",e)},u=function(e,t,n){return s.a.get(d+"/api/order/?pageNum="+e+"&pageSize="+t+"&filter="+r()(n))},p=function(e){return s.a.post(d+"/order/updateOrder",e)},f=function(e,t,n){return s.a.get(d+"/api/reward/?pageNum="+e+"&pageSize="+t+"&filter="+r()(n))},m=function(e){return s.a.post(d+"/reward/updateReward",e)},_=function(e){return s.a.post(d+"/reward/addReward",e)},v=function(e){return s.a.post(d+"/reward/delReward",e)},h=function(e,t,n){return s.a.get(d+"/api/promotion/?pageNum="+e+"&pageSize="+t+"&filter="+r()(n))},b=function(e){return s.a.post(d+"/promotion/updatePromotion",e)},g=function(e){return s.a.post(d+"/promotion/addPromotion",e)},A=function(e,t,n){return s.a.get(d+"/api/user/?pageNum="+e+"&pageSize="+t+"&filter="+r()(n))},C=function(e,t,n){return s.a.get(d+"/api/admin/?pageNum="+e+"&pageSize="+t+"&filter="+r()(n))},y=function(e){return s.a.post(d+"/admin/addAdminUser",e)},w=function(e){return s.a.post(d+"/admin/updateAdminUser",e)},x=function(e){return s.a.post(d+"/admin/delAdminUser",e)},k=function(e,t,n){return s.a.get(d+"/api/synopsis/?pageNum="+e+"&pageSize="+t+"&filter="+r()(n))},S=function(e){return s.a.post(d+"/synopsis/updateSynopsis",e)},B=function(e){return s.a.post(d+"/synopsis/addSynopsis",e)},D=function(e){return s.a.post(d+"/synopsis/delSynopsis",e)},z=function(e,t,n){return s.a.get(d+"/api/rank/?pageNum="+e+"&pageSize="+t+"&filter="+r()(n))},I=function(e){return s.a.post(d+"/rank/updateRank",e)},R=function(e){return s.a.post(d+"/rank/addRank",e)},N=function(e){return s.a.post(d+"/rank/delRank",e)}},"mQ/d":function(e,t,n){(e.exports=n("UTlt")(!0)).push([e.i,".handle-box[data-v-0dd5fed8]{margin-bottom:20px}.handle-select[data-v-0dd5fed8]{width:120px}.handle-input[data-v-0dd5fed8]{width:300px;display:inline-block}.table[data-v-0dd5fed8]{width:100%;font-size:14px}.big-modal img[data-v-0dd5fed8]{display:inline-block;width:80%;height:80%}hr[data-v-0dd5fed8]{margin-top:10px;margin-bottom:10px}","",{version:3,sources:["E:/work_space/rainbowproperty/src/components/page/OrderHanding.vue"],names:[],mappings:"AACA,6BACI,kBAAoB,CACvB,AACD,gCACI,WAAa,CAChB,AACD,+BACI,YAAa,AACb,oBAAsB,CACzB,AACD,wBACI,WAAY,AACZ,cAAgB,CACnB,AACD,gCACI,qBAAsB,AACtB,UAAW,AACX,UAAY,CACf,AACD,oBACI,gBAAiB,AACjB,kBAAoB,CACvB",file:"OrderHanding.vue",sourcesContent:["\n.handle-box[data-v-0dd5fed8] {\n    margin-bottom: 20px;\n}\n.handle-select[data-v-0dd5fed8] {\n    width: 120px;\n}\n.handle-input[data-v-0dd5fed8] {\n    width: 300px;\n    display: inline-block;\n}\n.table[data-v-0dd5fed8] {\n    width: 100%;\n    font-size: 14px;\n}\n.big-modal img[data-v-0dd5fed8] {\n    display: inline-block;\n    width: 80%;\n    height: 80%;\n}\nhr[data-v-0dd5fed8] {\n    margin-top: 10px;\n    margin-bottom: 10px;\n}\n"],sourceRoot:""}])}});