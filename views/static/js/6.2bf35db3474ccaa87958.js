webpackJsonp([6],{"2uFj":function(t,e,n){"use strict";e.a={development:{host:"http://localhost:8680/rainbowdb"},production:{host:"http://39.105.196.199:8680/rainbowdb"}}},"3cXf":function(t,e,n){t.exports={default:n("RJ+u"),__esModule:!0}},LI2Q:function(t,e,n){"use strict";var i=n("gyMJ"),a=n("6ROu");n.n(a),e.a={data:function(){return{dialogVisible:!1,tableData:[],cur_page:1,editVisible:!1,addVisible:!0,form:{_id:"",reward_title:"",reward_content:""},total:10,currentPage:1,pageSize:10,idx:-1,ue:null,uedata:""}},destroyed:function(){this.ue.destroy()},mounted:function(){var t=this;this.ue=UE.getEditor("editor",{BaseUrl:"",UEDITOR_HOME_URL:"/static/ueditor/"}),this.ue.addListener("ready",function(){t.ue.setContent("啊哈哈哈哈哈哈哈")})},created:function(){this.getData()},methods:{submits:function(){this.uedata=UE.getEditor("editor").getContent()},handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=this;i.n(this.cur_page,this.pageSize,{}).then(function(e){t.tableData=e.data.data,t.total=e.data.total})},addReward:function(){this.form.reward_title="",this.form.reward_content="",this.editVisible=!0,this.addVisible=!0},closeDistribution:function(){this.getData(),this.editVisible=!1,this.addVisible=!1},saveEdit:function(){var t=this,e={rewardId:this.form._id,reward_title:this.form.reward_title,reward_content:this.form.reward_content};i.v(e).then(function(e){e.data.success,e.data.success?(t.editVisible=!1,t.$message.success("修改成功")):t.$message.error("派单不成功")})},saveAdd:function(){var t=this,e={reward_title:this.form.reward_title,reward_content:this.form.reward_content};i.d(e).then(function(e){e.data.success,e.data.success?(t.editVisible=!1,t.$message.success("添加成功")):t.$message.error("添加不成功")})},orderEdit:function(t){this.idx=t;var e=this.tableData[t];this.form={_id:e._id,reward_title:e.reward_title,reward_content:e.reward_content},this.editVisible=!0,this.addVisible=!1},showRewardDel:function(t){this.idx=t,this.dialogVisible=!0},rewardDel:function(){var t=this,e=this.idx,n={rewardId:this.tableData[e]._id};i.h(n).then(function(e){e.data.success,e.data.success?(t.dialogVisible=!1,t.$message.success("删除成功")):t.$message.error("删除不成功")})},handleSelectionChange:function(t){this.multipleSelection=t}}}},"R/J+":function(t,e,n){var i=n("l7Y1");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),n("FIqI")("61d514d2",i,!0,{})},"RJ+u":function(t,e,n){var i=n("AKd3"),a=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},"UQo/":function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("div",{staticClass:"container"},[n("div",{staticClass:"handle-box"},[n("el-button",{attrs:{type:"primary"},on:{click:t.addReward}},[t._v("新 增")])],1),t._v(" "),n("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:"","default-sort":{prop:"date",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"reward_title",label:"标题"}}),t._v(" "),n("el-table-column",{attrs:{prop:"reward_content",label:"说明内容"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(n){t.orderEdit(e.$index)}}},[t._v("\n                        编辑\n                    ")]),t._v(" "),n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(n){t.showRewardDel(e.$index)}}},[t._v("\n                        删除\n                    ")])]}}])})],1),t._v(" "),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"total,  prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),n("div",{staticStyle:{height:"500px"},attrs:{id:"editor",type:"text/plain"}}),t._v(" "),n("button",{on:{click:t.submits}},[t._v("保存")])],1),t._v(" "),n("el-dialog",{attrs:{title:"",visible:t.editVisible},on:{"update:visible":function(e){t.editVisible=e},close:t.closeDistribution}},[n("div",{attrs:{id:"printTest"}},[n("el-form",{ref:"ruleForm",attrs:{model:t.form,"label-width":"180px"}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticStyle:{"padding-top":"15px","padding-bottom":"15px","text-align":"center","font-size":"20px"}},[t._v("\n                            推荐奖励说明\n                        ")])])],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:20}},[n("el-form-item",{attrs:{label:"推荐奖励标题:",prop:"reward_title"}},[n("el-input",{attrs:{placeholder:"请输入标题内容"},model:{value:t.form.reward_title,callback:function(e){t.$set(t.form,"reward_title",e)},expression:"form.reward_title"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:20}},[n("el-form-item",{attrs:{label:"推荐奖励内容:",prop:"reward_content"}},[n("el-input",{attrs:{type:"textarea",rows:8,placeholder:"请输入内容"},model:{value:t.form.reward_content,callback:function(e){t.$set(t.form,"reward_content",e)},expression:"form.reward_content"}})],1)],1)],1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[1==t.addVisible?n("div",[n("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.saveAdd}},[t._v("确 定")])],1):n("div",[n("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)])]),t._v(" "),n("el-dialog",{attrs:{title:"提示",width:"30%",visible:t.dialogVisible,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e},close:t.closeDistribution}},[n("span",[t._v("确定要删除数据？")]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.rewardDel}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};e.a=i},VRIR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("LI2Q"),a=n("UQo/"),r=function(t){n("R/J+")},o=n("C7Lr")(i.a,a.a,!1,r,"data-v-4a2ca2b4",null);e.default=o.exports},gyMJ:function(t,e,n){"use strict";n.d(e,"q",function(){return u}),n.d(e,"x",function(){return l}),n.d(e,"k",function(){return c}),n.d(e,"s",function(){return p}),n.d(e,"n",function(){return f}),n.d(e,"v",function(){return b}),n.d(e,"d",function(){return g}),n.d(e,"h",function(){return h}),n.d(e,"l",function(){return m}),n.d(e,"t",function(){return v}),n.d(e,"b",function(){return _}),n.d(e,"p",function(){return w}),n.d(e,"j",function(){return A}),n.d(e,"a",function(){return C}),n.d(e,"r",function(){return x}),n.d(e,"f",function(){return y}),n.d(e,"o",function(){return k}),n.d(e,"w",function(){return B}),n.d(e,"e",function(){return R}),n.d(e,"i",function(){return D}),n.d(e,"m",function(){return V}),n.d(e,"u",function(){return S}),n.d(e,"c",function(){return I}),n.d(e,"g",function(){return U});var i=n("3cXf"),a=n.n(i),r=n("2uFj"),o=n("6sKG"),s=n.n(o),d=r.a.production.host,u=function(t){return s.a.post(d+"/admin/login/",t).then(function(t){return t.data})},l=function(t){return s.a.post(d+"/user/updateUser",t)},c=function(t,e,n){return s.a.get(d+"/api/order/?pageNum="+t+"&pageSize="+e+"&filter="+a()(n))},p=function(t){return s.a.post(d+"/order/updateOrder",t)},f=function(t,e,n){return s.a.get(d+"/api/reward/?pageNum="+t+"&pageSize="+e+"&filter="+a()(n))},b=function(t){return s.a.post(d+"/reward/updateReward",t)},g=function(t){return s.a.post(d+"/reward/addReward",t)},h=function(t){return s.a.post(d+"/reward/delReward",t)},m=function(t,e,n){return s.a.get(d+"/api/promotion/?pageNum="+t+"&pageSize="+e+"&filter="+a()(n))},v=function(t){return s.a.post(d+"/promotion/updatePromotion",t)},_=function(t){return s.a.post(d+"/promotion/addPromotion",t)},w=function(t,e,n){return s.a.get(d+"/api/user/?pageNum="+t+"&pageSize="+e+"&filter="+a()(n))},A=function(t,e,n){return s.a.get(d+"/api/admin/?pageNum="+t+"&pageSize="+e+"&filter="+a()(n))},C=function(t){return s.a.post(d+"/admin/addAdminUser",t)},x=function(t){return s.a.post(d+"/admin/updateAdminUser",t)},y=function(t){return s.a.post(d+"/admin/delAdminUser",t)},k=function(t,e,n){return s.a.get(d+"/api/synopsis/?pageNum="+t+"&pageSize="+e+"&filter="+a()(n))},B=function(t){return s.a.post(d+"/synopsis/updateSynopsis",t)},R=function(t){return s.a.post(d+"/synopsis/addSynopsis",t)},D=function(t){return s.a.post(d+"/synopsis/delSynopsis",t)},V=function(t,e,n){return s.a.get(d+"/api/rank/?pageNum="+t+"&pageSize="+e+"&filter="+a()(n))},S=function(t){return s.a.post(d+"/rank/updateRank",t)},I=function(t){return s.a.post(d+"/rank/addRank",t)},U=function(t){return s.a.post(d+"/rank/delRank",t)}},l7Y1:function(t,e,n){(t.exports=n("UTlt")(!0)).push([t.i,".handle-box[data-v-4a2ca2b4]{margin-bottom:20px}.handle-select[data-v-4a2ca2b4]{width:120px}.handle-input[data-v-4a2ca2b4]{width:300px;display:inline-block}.table[data-v-4a2ca2b4]{width:100%;font-size:14px}.big-modal img[data-v-4a2ca2b4]{display:inline-block;width:80%;height:80%}hr[data-v-4a2ca2b4]{margin-top:10px;margin-bottom:10px}","",{version:3,sources:["E:/work_space/rainbowproperty/src/components/page/RewardHanding.vue"],names:[],mappings:"AACA,6BACI,kBAAoB,CACvB,AACD,gCACI,WAAa,CAChB,AACD,+BACI,YAAa,AACb,oBAAsB,CACzB,AACD,wBACI,WAAY,AACZ,cAAgB,CACnB,AACD,gCACI,qBAAsB,AACtB,UAAW,AACX,UAAY,CACf,AACD,oBACI,gBAAiB,AACjB,kBAAoB,CACvB",file:"RewardHanding.vue",sourcesContent:["\n.handle-box[data-v-4a2ca2b4] {\n    margin-bottom: 20px;\n}\n.handle-select[data-v-4a2ca2b4] {\n    width: 120px;\n}\n.handle-input[data-v-4a2ca2b4] {\n    width: 300px;\n    display: inline-block;\n}\n.table[data-v-4a2ca2b4] {\n    width: 100%;\n    font-size: 14px;\n}\n.big-modal img[data-v-4a2ca2b4] {\n    display: inline-block;\n    width: 80%;\n    height: 80%;\n}\nhr[data-v-4a2ca2b4] {\n    margin-top: 10px;\n    margin-bottom: 10px;\n}\n"],sourceRoot:""}])}});